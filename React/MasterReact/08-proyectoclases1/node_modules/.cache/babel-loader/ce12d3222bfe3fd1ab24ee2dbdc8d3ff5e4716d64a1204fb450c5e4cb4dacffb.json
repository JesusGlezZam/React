{"ast":null,"code":"var _jsxFileName = \"C:\\\\Develop\\\\Web\\\\React\\\\React\\\\MasterReact\\\\08-proyectoclases1\\\\src\\\\Componets\\\\Crear.js\";\nimport React, { Component } from 'react';\nimport GuardarEnStorageGenerico from '../helpers/GuardarEnStorage'; // Asegúrate de importar desde el archivo correcto\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Crear extends Component {\n  constructor(props) {\n    super(props);\n    // Función para manejar el envío del formulario\n    this.conseguirDatosForm = e => {\n      e.preventDefault();\n\n      // Obtener datos del formulario\n      let target = e.target;\n      let titulo = target.titulo.value;\n      let descripcion = target.descripcion.value;\n\n      // Validar campos\n      let erroresTemp = this.validarCampos({\n        titulo,\n        descripcion\n      });\n      if (Object.keys(erroresTemp).length > 0) {\n        this.setState({\n          errores: erroresTemp\n        });\n        return;\n      }\n\n      // Crear objeto de la película a guardar\n      let pelicula = {\n        id: new Date().getTime(),\n        titulo,\n        descripcion\n      };\n\n      // Actualizar estado con la nueva película\n      this.setState({\n        pelicula,\n        errores: {}\n      });\n\n      // Actualizar el estado del listado principal\n      this.props.setListadoPelicula(elementos => [...elementos, pelicula]);\n\n      // Guardar en el localStorage usando la instancia de GuardarEnStorageGenerico\n      this.guardarHelper.GuardarEnStorage(\"generico\", pelicula);\n\n      // Limpiar el formulario\n      target.reset();\n    };\n    /**Validar si los campos vienen vacíos */\n    this.validarCampos = campos => {\n      let erroresTemp = {};\n      if (campos.titulo.trim() === \"\") {\n        erroresTemp.titulo = 'El título es obligatorio.';\n      }\n      if (campos.descripcion.trim() === \"\") {\n        erroresTemp.descripcion = 'La descripción es obligatoria.';\n      }\n      return erroresTemp;\n    };\n    this.state = {\n      tituloComponente: \"Añadir película\",\n      pelicula: {\n        titulo: '',\n        descripcion: ''\n      },\n      errores: {\n        titulo: '',\n        descripcion: ''\n      }\n    };\n    this.guardarHelper = new GuardarEnStorageGenerico(); // Crear instancia de GuardarEnStorageGenerico\n  }\n\n  render() {\n    const {\n      tituloComponente,\n      pelicula,\n      errores\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"title\",\n        children: tituloComponente\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: pelicula.titulo && pelicula.descripcion && `Has creado la película: ${pelicula.titulo}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.conseguirDatosForm,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"titulo\",\n          id: \"title\",\n          placeholder: \"T\\xEDtulo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), errores.titulo && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: errores.titulo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 40\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"description\",\n          name: \"descripcion\",\n          placeholder: \"Descripci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), errores.descripcion && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: errores.descripcion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 45\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          id: \"save\",\n          value: \"Guardar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","GuardarEnStorageGenerico","jsxDEV","_jsxDEV","Crear","constructor","props","conseguirDatosForm","e","preventDefault","target","titulo","value","descripcion","erroresTemp","validarCampos","Object","keys","length","setState","errores","pelicula","id","Date","getTime","setListadoPelicula","elementos","guardarHelper","GuardarEnStorage","reset","campos","trim","state","tituloComponente","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","name","placeholder","style","color"],"sources":["C:/Develop/Web/React/React/MasterReact/08-proyectoclases1/src/Componets/Crear.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport GuardarEnStorageGenerico from '../helpers/GuardarEnStorage'; // Asegúrate de importar desde el archivo correcto\r\n\r\nexport default class Crear extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tituloComponente: \"Añadir película\",\r\n            pelicula: {\r\n                titulo: '',\r\n                descripcion: ''\r\n            },\r\n            errores: {\r\n                titulo: '',\r\n                descripcion: ''\r\n            }\r\n        };\r\n        this.guardarHelper = new GuardarEnStorageGenerico(); // Crear instancia de GuardarEnStorageGenerico\r\n    }\r\n\r\n    // Función para manejar el envío del formulario\r\n    conseguirDatosForm = (e) => {\r\n        e.preventDefault();\r\n\r\n        // Obtener datos del formulario\r\n        let target = e.target;\r\n        let titulo = target.titulo.value;\r\n        let descripcion = target.descripcion.value;\r\n\r\n        // Validar campos\r\n        let erroresTemp = this.validarCampos({ titulo, descripcion });\r\n\r\n        if (Object.keys(erroresTemp).length > 0) {\r\n            this.setState({ errores: erroresTemp });\r\n            return;\r\n        }\r\n\r\n        // Crear objeto de la película a guardar\r\n        let pelicula = {\r\n            id: new Date().getTime(),\r\n            titulo,\r\n            descripcion\r\n        };\r\n\r\n        // Actualizar estado con la nueva película\r\n        this.setState({\r\n            pelicula,\r\n            errores: {}\r\n        });\r\n\r\n        // Actualizar el estado del listado principal\r\n        this.props.setListadoPelicula(elementos => [...elementos, pelicula]);\r\n\r\n        // Guardar en el localStorage usando la instancia de GuardarEnStorageGenerico\r\n        this.guardarHelper.GuardarEnStorage(\"generico\", pelicula);\r\n\r\n        // Limpiar el formulario\r\n        target.reset();\r\n    };\r\n\r\n    /**Validar si los campos vienen vacíos */\r\n    validarCampos = (campos) => {\r\n        let erroresTemp = {};\r\n\r\n        if (campos.titulo.trim() === \"\") {\r\n            erroresTemp.titulo = 'El título es obligatorio.';\r\n        }\r\n        if (campos.descripcion.trim() === \"\") {\r\n            erroresTemp.descripcion = 'La descripción es obligatoria.';\r\n        }\r\n\r\n        return erroresTemp;\r\n    };\r\n\r\n    render() {\r\n        const { tituloComponente, pelicula, errores } = this.state;\r\n\r\n        return (\r\n            <div className=\"add\">\r\n                <h3 className=\"title\">{tituloComponente}</h3>\r\n                <strong>\r\n                    {/* Si existe título y descripción, muestra la etiqueta */}\r\n                    {(pelicula.titulo && pelicula.descripcion) && `Has creado la película: ${pelicula.titulo}`}\r\n                </strong>\r\n\r\n                <form onSubmit={this.conseguirDatosForm}>\r\n                    <input type=\"text\"\r\n                        name=\"titulo\"\r\n                        id=\"title\"\r\n                        placeholder=\"Título\" />\r\n                    {errores.titulo && <p style={{ color: 'red' }}>{errores.titulo}</p>}\r\n\r\n                    <textarea id=\"description\"\r\n                        name=\"descripcion\"\r\n                        placeholder=\"Descripción\"></textarea>\r\n                    {errores.descripcion && <p style={{ color: 'red' }}>{errores.descripcion}</p>}\r\n\r\n                    <input type=\"submit\" id=\"save\" value=\"Guardar\" />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}