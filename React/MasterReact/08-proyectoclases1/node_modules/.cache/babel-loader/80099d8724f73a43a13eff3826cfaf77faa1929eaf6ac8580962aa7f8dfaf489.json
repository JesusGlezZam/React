{"ast":null,"code":"var _jsxFileName = \"C:\\\\Develop\\\\Web\\\\React\\\\React\\\\MasterReact\\\\08-proyectoclases1\\\\src\\\\Componets\\\\Listado.js\";\nimport React, { Component } from 'react';\nimport Editar from './Editar';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Listado extends Component {\n  constructor(props) {\n    super(props);\n    /**\r\n     * Obtiene la lista de películas desde el almacenamiento local.\r\n     *\r\n     * La función recupera las películas almacenadas en localStorage bajo la clave \"generico\",\r\n     * las convierte de JSON a un objeto JavaScript y actualiza el estado `listadoPelicula` con estas películas.\r\n     *\r\n     * @returns {Array} La lista de películas obtenida desde el almacenamiento local.\r\n     */\n    this.conseguirPeliculas = () => {\n      let peliculas = JSON.parse(localStorage.getItem(\"generico\"));\n      this.props.setListadoPelicula(peliculas || []); // Si peliculas es null o undefined, establece un array vacío\n      return peliculas || [];\n    };\n    /**\r\n     * Elimina una película del almacenamiento local y actualiza el estado del listado.\r\n     *\r\n     * La función obtiene la lista de películas almacenadas en localStorage,\r\n     * filtra la lista para eliminar la película con el ID especificado,\r\n     * actualiza el estado `listadoPelicula` con la lista filtrada y\r\n     * guarda la lista actualizada en localStorage.\r\n     *\r\n     * @param {number|string} id - El ID de la película a eliminar.\r\n     */\n    this.borrarPelicula = id => {\n      let peliculasAlmacenadas = this.conseguirPeliculas();\n      let actualizacionPeliculas = peliculasAlmacenadas.filter(pelicula => pelicula.id !== parseInt(id));\n      this.props.setListadoPelicula(actualizacionPeliculas);\n      localStorage.setItem('generico', JSON.stringify(actualizacionPeliculas));\n    };\n    this.state = {\n      editar: 0\n    };\n  }\n  componentDidMount() {\n    console.log(\"Componente cargado de películas\");\n    this.conseguirPeliculas();\n  }\n  render() {\n    const {\n      listadoPelicula\n    } = this.props;\n    const {\n      editar\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: Array.isArray(listadoPelicula) && listadoPelicula.length > 0 ? listadoPelicula.map(pelicula => /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"peli-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"title\",\n          children: pelicula.titulo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"description\",\n          children: pelicula.descripcion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"edit\",\n          onClick: () => this.setState({\n            editar: pelicula.id\n          }),\n          children: \"Editar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete\",\n          onClick: () => this.borrarPelicula(pelicula.id),\n          children: \"Borrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }, this), editar === pelicula.id && /*#__PURE__*/_jsxDEV(Editar, {\n          peli: pelicula,\n          conseguirPeliculas: this.conseguirPeliculas,\n          setEditar: () => this.setState({\n            editar: 0\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 33\n        }, this)]\n      }, pelicula.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"No hay pel\\xEDculas dentro del storage desestruturacion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this)\n    }, void 0, false);\n  }\n}","map":{"version":3,"names":["React","Component","Editar","jsxDEV","_jsxDEV","Fragment","_Fragment","Listado","constructor","props","conseguirPeliculas","peliculas","JSON","parse","localStorage","getItem","setListadoPelicula","borrarPelicula","id","peliculasAlmacenadas","actualizacionPeliculas","filter","pelicula","parseInt","setItem","stringify","state","editar","componentDidMount","console","log","render","listadoPelicula","children","Array","isArray","length","map","className","titulo","fileName","_jsxFileName","lineNumber","columnNumber","descripcion","onClick","setState","peli","setEditar"],"sources":["C:/Develop/Web/React/React/MasterReact/08-proyectoclases1/src/Componets/Listado.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport Editar from './Editar';\r\n\r\nexport default class Listado extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            editar: 0\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"Componente cargado de películas\");\r\n        this.conseguirPeliculas();\r\n    }\r\n\r\n    /**\r\n     * Obtiene la lista de películas desde el almacenamiento local.\r\n     *\r\n     * La función recupera las películas almacenadas en localStorage bajo la clave \"generico\",\r\n     * las convierte de JSON a un objeto JavaScript y actualiza el estado `listadoPelicula` con estas películas.\r\n     *\r\n     * @returns {Array} La lista de películas obtenida desde el almacenamiento local.\r\n     */\r\n    conseguirPeliculas = () => {\r\n        let peliculas = JSON.parse(localStorage.getItem(\"generico\"));\r\n        this.props.setListadoPelicula(peliculas || []); // Si peliculas es null o undefined, establece un array vacío\r\n        return peliculas || [];\r\n    };\r\n\r\n    /**\r\n     * Elimina una película del almacenamiento local y actualiza el estado del listado.\r\n     *\r\n     * La función obtiene la lista de películas almacenadas en localStorage,\r\n     * filtra la lista para eliminar la película con el ID especificado,\r\n     * actualiza el estado `listadoPelicula` con la lista filtrada y\r\n     * guarda la lista actualizada en localStorage.\r\n     *\r\n     * @param {number|string} id - El ID de la película a eliminar.\r\n     */\r\n    borrarPelicula = (id) => {\r\n        let peliculasAlmacenadas = this.conseguirPeliculas();\r\n        let actualizacionPeliculas = peliculasAlmacenadas.filter(pelicula => pelicula.id !== parseInt(id));\r\n        this.props.setListadoPelicula(actualizacionPeliculas);\r\n        localStorage.setItem('generico', JSON.stringify(actualizacionPeliculas));\r\n    };\r\n\r\n    render() {\r\n        const { listadoPelicula } = this.props;\r\n        const { editar } = this.state;\r\n\r\n        return (\r\n            <>\r\n                {Array.isArray(listadoPelicula) && listadoPelicula.length > 0 ? (\r\n                    listadoPelicula.map(pelicula => (\r\n                        <article key={pelicula.id} className=\"peli-item\">\r\n                            <h3 className=\"title\">{pelicula.titulo}</h3>\r\n                            <p className=\"description\">{pelicula.descripcion}</p>\r\n                            <button className=\"edit\" onClick={() => this.setState({ editar: pelicula.id })}>Editar</button>\r\n                            <button className=\"delete\" onClick={() => this.borrarPelicula(pelicula.id)}>Borrar</button>\r\n                            {editar === pelicula.id && (\r\n                                <Editar\r\n                                    peli={pelicula}\r\n                                    conseguirPeliculas={this.conseguirPeliculas}\r\n                                    setEditar={() => this.setState({ editar: 0 })}\r\n                                />\r\n                            )}\r\n                        </article>\r\n                    ))\r\n                ) : (\r\n                    <h2>No hay películas dentro del storage desestruturacion</h2>\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,MAAM,MAAM,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE9B,eAAe,MAAMC,OAAO,SAASN,SAAS,CAAC;EAC3CO,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IAWhB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;IAPI,KAQAC,kBAAkB,GAAG,MAAM;MACvB,IAAIC,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;MAC5D,IAAI,CAACN,KAAK,CAACO,kBAAkB,CAACL,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC;MAChD,OAAOA,SAAS,IAAI,EAAE;IAC1B,CAAC;IAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IATI,KAUAM,cAAc,GAAIC,EAAE,IAAK;MACrB,IAAIC,oBAAoB,GAAG,IAAI,CAACT,kBAAkB,CAAC,CAAC;MACpD,IAAIU,sBAAsB,GAAGD,oBAAoB,CAACE,MAAM,CAACC,QAAQ,IAAIA,QAAQ,CAACJ,EAAE,KAAKK,QAAQ,CAACL,EAAE,CAAC,CAAC;MAClG,IAAI,CAACT,KAAK,CAACO,kBAAkB,CAACI,sBAAsB,CAAC;MACrDN,YAAY,CAACU,OAAO,CAAC,UAAU,EAAEZ,IAAI,CAACa,SAAS,CAACL,sBAAsB,CAAC,CAAC;IAC5E,CAAC;IAvCG,IAAI,CAACM,KAAK,GAAG;MACTC,MAAM,EAAE;IACZ,CAAC;EACL;EAEAC,iBAAiBA,CAAA,EAAG;IAChBC,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;IAC9C,IAAI,CAACpB,kBAAkB,CAAC,CAAC;EAC7B;EAiCAqB,MAAMA,CAAA,EAAG;IACL,MAAM;MAAEC;IAAgB,CAAC,GAAG,IAAI,CAACvB,KAAK;IACtC,MAAM;MAAEkB;IAAO,CAAC,GAAG,IAAI,CAACD,KAAK;IAE7B,oBACItB,OAAA,CAAAE,SAAA;MAAA2B,QAAA,EACKC,KAAK,CAACC,OAAO,CAACH,eAAe,CAAC,IAAIA,eAAe,CAACI,MAAM,GAAG,CAAC,GACzDJ,eAAe,CAACK,GAAG,CAACf,QAAQ,iBACxBlB,OAAA;QAA2BkC,SAAS,EAAC,WAAW;QAAAL,QAAA,gBAC5C7B,OAAA;UAAIkC,SAAS,EAAC,OAAO;UAAAL,QAAA,EAAEX,QAAQ,CAACiB;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC5CvC,OAAA;UAAGkC,SAAS,EAAC,aAAa;UAAAL,QAAA,EAAEX,QAAQ,CAACsB;QAAW;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrDvC,OAAA;UAAQkC,SAAS,EAAC,MAAM;UAACO,OAAO,EAAEA,CAAA,KAAM,IAAI,CAACC,QAAQ,CAAC;YAAEnB,MAAM,EAAEL,QAAQ,CAACJ;UAAG,CAAC,CAAE;UAAAe,QAAA,EAAC;QAAM;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC/FvC,OAAA;UAAQkC,SAAS,EAAC,QAAQ;UAACO,OAAO,EAAEA,CAAA,KAAM,IAAI,CAAC5B,cAAc,CAACK,QAAQ,CAACJ,EAAE,CAAE;UAAAe,QAAA,EAAC;QAAM;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EAC1FhB,MAAM,KAAKL,QAAQ,CAACJ,EAAE,iBACnBd,OAAA,CAACF,MAAM;UACH6C,IAAI,EAAEzB,QAAS;UACfZ,kBAAkB,EAAE,IAAI,CAACA,kBAAmB;UAC5CsC,SAAS,EAAEA,CAAA,KAAM,IAAI,CAACF,QAAQ,CAAC;YAAEnB,MAAM,EAAE;UAAE,CAAC;QAAE;UAAAa,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CACJ;MAAA,GAXSrB,QAAQ,CAACJ,EAAE;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAYhB,CACZ,CAAC,gBAEFvC,OAAA;QAAA6B,QAAA,EAAI;MAAoD;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAC/D,gBACH,CAAC;EAEX;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}