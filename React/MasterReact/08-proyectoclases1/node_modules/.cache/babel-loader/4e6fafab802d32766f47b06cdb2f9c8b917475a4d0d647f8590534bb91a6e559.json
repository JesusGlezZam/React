{"ast":null,"code":"var _jsxFileName = \"C:\\\\Develop\\\\Web\\\\React\\\\React\\\\MasterReact\\\\08-proyectoclases1\\\\src\\\\Componets\\\\Crear.js\";\nimport React, { Component } from 'react';\nimport GuardarEnStorageGenerico from '../helpers/GuardarEnStorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Crear extends Component {\n  constructor(props) {\n    super(props);\n    // Manejar el envío del formulario\n    this.conseguirDatosForm = e => {\n      e.preventDefault();\n\n      // Obtener datos del formulario\n      let target = e.target;\n      let titulo = target.titulo.value;\n      let descripcion = target.descripcion.value;\n\n      // Validar campos\n      let erroresTemp = this.validarCampos({\n        titulo,\n        descripcion\n      });\n      if (Object.keys(erroresTemp).length > 0) {\n        this.setState({\n          errores: erroresTemp\n        });\n        return;\n      }\n\n      // Crear objeto de la película a guardar\n      let pelicula = {\n        id: new Date().getTime(),\n        titulo,\n        descripcion\n      };\n\n      // Asignar la nueva película al estado\n      this.setState({\n        pelicula\n      });\n\n      // Actualizar el estado de listado principal\n      this.props.setListadoPelicula(elementos => {\n        return [...elementos, pelicula];\n      });\n\n      // Guardar en el localStorage usando la instancia de GuardarEnStorage\n      this.guardarHelper.guardarEnStorageGenerico(\"peliculas\", pelicula);\n      this.guardarHelper.guardarEnStorageGenerico(\"generico\", pelicula);\n\n      // Limpiar los errores después de un envío exitoso\n      this.setState({\n        errores: {}\n      });\n\n      // Limpiar el formulario\n      target.reset();\n    };\n    // Validar si los campos vienen vacíos\n    this.validarCampos = campos => {\n      let erroresTemp = {};\n      if (campos.titulo.trim() === \"\") {\n        erroresTemp.titulo = 'El título es obligatorio.';\n      }\n      if (campos.descripcion.trim() === \"\") {\n        erroresTemp.descripcion = 'La descripción es obligatoria.';\n      }\n      return erroresTemp;\n    };\n    this.state = {\n      tituloComponente: \"Añadir película\",\n      pelicula: {\n        titulo: '',\n        descripcion: ''\n      },\n      errores: {\n        titulo: '',\n        descripcion: ''\n      }\n    };\n\n    // Crear instancia de GuardarEnStorage\n    this.guardarHelper = new GuardarEnStorage();\n  }\n  render() {\n    const {\n      tituloComponente,\n      pelicula,\n      errores\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"title\",\n        children: tituloComponente\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: pelicula.titulo && pelicula.descripcion && \"Has creado la película: \" + pelicula.titulo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.conseguirDatosForm,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"titulo\",\n          id: \"title\",\n          placeholder: \"T\\xEDtulo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), errores.titulo && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: errores.titulo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 40\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"description\",\n          name: \"descripcion\",\n          placeholder: \"Descripci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), errores.descripcion && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: errores.descripcion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 45\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          id: \"save\",\n          value: \"Guardar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","GuardarEnStorageGenerico","jsxDEV","_jsxDEV","Crear","constructor","props","conseguirDatosForm","e","preventDefault","target","titulo","value","descripcion","erroresTemp","validarCampos","Object","keys","length","setState","errores","pelicula","id","Date","getTime","setListadoPelicula","elementos","guardarHelper","guardarEnStorageGenerico","reset","campos","trim","state","tituloComponente","GuardarEnStorage","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","name","placeholder","style","color"],"sources":["C:/Develop/Web/React/React/MasterReact/08-proyectoclases1/src/Componets/Crear.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport GuardarEnStorageGenerico from '../helpers/GuardarEnStorage';\r\n\r\n\r\nexport default class Crear extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tituloComponente: \"Añadir película\",\r\n            pelicula: {\r\n                titulo: '',\r\n                descripcion: ''\r\n            },\r\n            errores: {\r\n                titulo: '',\r\n                descripcion: ''\r\n            }\r\n        };\r\n\r\n        // Crear instancia de GuardarEnStorage\r\n        this.guardarHelper = new GuardarEnStorage();\r\n    }\r\n\r\n    // Manejar el envío del formulario\r\n    conseguirDatosForm = (e) => {\r\n        e.preventDefault();\r\n\r\n        // Obtener datos del formulario\r\n        let target = e.target;\r\n        let titulo = target.titulo.value;\r\n        let descripcion = target.descripcion.value;\r\n\r\n        // Validar campos\r\n        let erroresTemp = this.validarCampos({ titulo, descripcion });\r\n\r\n        if (Object.keys(erroresTemp).length > 0) {\r\n            this.setState({ errores: erroresTemp });\r\n            return;\r\n        }\r\n\r\n        // Crear objeto de la película a guardar\r\n        let pelicula = {\r\n            id: new Date().getTime(),\r\n            titulo,\r\n            descripcion\r\n        };\r\n\r\n        // Asignar la nueva película al estado\r\n        this.setState({ pelicula });\r\n\r\n        // Actualizar el estado de listado principal\r\n        this.props.setListadoPelicula((elementos) => {\r\n            return [...elementos, pelicula];\r\n        });\r\n\r\n        // Guardar en el localStorage usando la instancia de GuardarEnStorage\r\n        this.guardarHelper.guardarEnStorageGenerico(\"peliculas\", pelicula);\r\n        this.guardarHelper.guardarEnStorageGenerico(\"generico\", pelicula);\r\n\r\n        // Limpiar los errores después de un envío exitoso\r\n        this.setState({ errores: {} });\r\n\r\n        // Limpiar el formulario\r\n        target.reset();\r\n    };\r\n\r\n    // Validar si los campos vienen vacíos\r\n    validarCampos = (campos) => {\r\n        let erroresTemp = {};\r\n\r\n        if (campos.titulo.trim() === \"\") {\r\n            erroresTemp.titulo = 'El título es obligatorio.';\r\n        }\r\n        if (campos.descripcion.trim() === \"\") {\r\n            erroresTemp.descripcion = 'La descripción es obligatoria.';\r\n        }\r\n\r\n        return erroresTemp;\r\n    };\r\n\r\n    render() {\r\n        const { tituloComponente, pelicula, errores } = this.state;\r\n\r\n        return (\r\n            <div className=\"add\">\r\n                <h3 className=\"title\">{tituloComponente}</h3>\r\n                <strong>\r\n                    {(pelicula.titulo && pelicula.descripcion) && \"Has creado la película: \" + pelicula.titulo}\r\n                </strong>\r\n\r\n                <form onSubmit={this.conseguirDatosForm}>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"titulo\"\r\n                        id=\"title\"\r\n                        placeholder=\"Título\"\r\n                    />\r\n                    {errores.titulo && <p style={{ color: 'red' }}>{errores.titulo}</p>}\r\n\r\n                    <textarea\r\n                        id=\"description\"\r\n                        name=\"descripcion\"\r\n                        placeholder=\"Descripción\"\r\n                    ></textarea>\r\n                    {errores.descripcion && <p style={{ color: 'red' }}>{errores.descripcion}</p>}\r\n\r\n                    <input type=\"submit\" id=\"save\" value=\"Guardar\" />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}