{"ast":null,"code":"var _jsxFileName = \"C:\\\\Develop\\\\Web\\\\React\\\\React\\\\MasterReact\\\\08-proyectoclases1\\\\src\\\\Componets\\\\Listado.js\";\nimport React, { Component } from 'react';\nimport Editar from './Editar';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Listado extends Component {\n  constructor(props) {\n    super(props);\n    /**\r\n     * Obtiene la lista de películas desde el almacenamiento local.\r\n     *\r\n     * La función recupera las películas almacenadas en localStorage bajo la clave \"generico\",\r\n     * las convierte de JSON a un objeto JavaScript y actualiza el estado `listadoPelicula` con estas películas.\r\n     *\r\n     * @returns {Array} La lista de películas obtenida desde el almacenamiento local.\r\n     */\n    this.conseguirPeliculas = () => {\n      let peliculas = JSON.parse(localStorage.getItem(\"generico\"));\n      this.props.setListadoPelicula(peliculas || []); // Actualiza el estado de listadoPelicula con las películas obtenidas\n      return peliculas || [];\n    };\n    /**\r\n     * Elimina una película del almacenamiento local y actualiza el estado del listado.\r\n     *\r\n     * La función obtiene la lista de películas almacenadas en localStorage,\r\n     * filtra la lista para eliminar la película con el ID especificado,\r\n     * actualiza el estado `listadoPelicula` con la lista filtrada y\r\n     * guarda la lista actualizada en localStorage.\r\n     *\r\n     * @param {number|string} id - El ID de la película a eliminar.\r\n     */\n    this.borrarPelicula = id => {\n      let peliculasAlmacenadas = this.conseguirPeliculas();\n      let actualizacionPeliculas = peliculasAlmacenadas.filter(pelicula => pelicula.id !== parseInt(id));\n      console.log(peliculasAlmacenadas, actualizacionPeliculas);\n      this.props.setListadoPelicula(actualizacionPeliculas);\n      localStorage.setItem('generico', JSON.stringify(actualizacionPeliculas));\n    };\n    /**\r\n     * Maneja la edición de una película.\r\n     *\r\n     * @param {number} id - El ID de la película a editar.\r\n     */\n    this.editarPelicula = id => {\n      this.setState({\n        editar: id\n      });\n    };\n    this.state = {\n      editar: 0 // Estado para controlar la edición, inicialmente 0 significa que no se está editando ninguna película\n    };\n  }\n  componentDidMount() {\n    console.log(\"Componente cargado de películas\");\n    this.conseguirPeliculas();\n  }\n  render() {\n    const {\n      listadoPelicula\n    } = this.props;\n    const {\n      editar\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: listadoPelicula && listadoPelicula.length > 0 ? listadoPelicula.map(peli => /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"peli-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"title\",\n          children: peli.titulo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"description\",\n          children: peli.descripcion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"edit\",\n          onClick: () => this.editarPelicula(peli.id),\n          children: \"Editar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete\",\n          onClick: () => this.borrarPelicula(peli.id),\n          children: \"Borrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this), editar === peli.id && /*#__PURE__*/_jsxDEV(Editar, {\n          peli: peli,\n          conseguirPeliculas: this.conseguirPeliculas,\n          setEditar: () => this.setState({\n            editar: 0\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }, this)]\n      }, peli.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"No hay pel\\xEDculas dentro del almacenamiento\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this)\n    }, void 0, false);\n  }\n}","map":{"version":3,"names":["React","Component","Editar","jsxDEV","_jsxDEV","Fragment","_Fragment","Listado","constructor","props","conseguirPeliculas","peliculas","JSON","parse","localStorage","getItem","setListadoPelicula","borrarPelicula","id","peliculasAlmacenadas","actualizacionPeliculas","filter","pelicula","parseInt","console","log","setItem","stringify","editarPelicula","setState","editar","state","componentDidMount","render","listadoPelicula","children","length","map","peli","className","titulo","fileName","_jsxFileName","lineNumber","columnNumber","descripcion","onClick","setEditar"],"sources":["C:/Develop/Web/React/React/MasterReact/08-proyectoclases1/src/Componets/Listado.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport Editar from './Editar';\r\n\r\nexport default class Listado extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            editar: 0 // Estado para controlar la edición, inicialmente 0 significa que no se está editando ninguna película\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"Componente cargado de películas\");\r\n        this.conseguirPeliculas();\r\n    }\r\n\r\n    /**\r\n     * Obtiene la lista de películas desde el almacenamiento local.\r\n     *\r\n     * La función recupera las películas almacenadas en localStorage bajo la clave \"generico\",\r\n     * las convierte de JSON a un objeto JavaScript y actualiza el estado `listadoPelicula` con estas películas.\r\n     *\r\n     * @returns {Array} La lista de películas obtenida desde el almacenamiento local.\r\n     */\r\n    conseguirPeliculas = () => {\r\n        let peliculas = JSON.parse(localStorage.getItem(\"generico\"));\r\n        this.props.setListadoPelicula(peliculas || []); // Actualiza el estado de listadoPelicula con las películas obtenidas\r\n        return peliculas || [];\r\n    };\r\n\r\n    /**\r\n     * Elimina una película del almacenamiento local y actualiza el estado del listado.\r\n     *\r\n     * La función obtiene la lista de películas almacenadas en localStorage,\r\n     * filtra la lista para eliminar la película con el ID especificado,\r\n     * actualiza el estado `listadoPelicula` con la lista filtrada y\r\n     * guarda la lista actualizada en localStorage.\r\n     *\r\n     * @param {number|string} id - El ID de la película a eliminar.\r\n     */\r\n    borrarPelicula = (id) => {\r\n        let peliculasAlmacenadas = this.conseguirPeliculas();\r\n        let actualizacionPeliculas = peliculasAlmacenadas.filter(pelicula => pelicula.id !== parseInt(id));\r\n        console.log(peliculasAlmacenadas, actualizacionPeliculas);\r\n        this.props.setListadoPelicula(actualizacionPeliculas);\r\n        localStorage.setItem('generico', JSON.stringify(actualizacionPeliculas));\r\n    };\r\n\r\n    /**\r\n     * Maneja la edición de una película.\r\n     *\r\n     * @param {number} id - El ID de la película a editar.\r\n     */\r\n    editarPelicula = (id) => {\r\n        this.setState({ editar: id });\r\n    };\r\n\r\n    render() {\r\n        const { listadoPelicula } = this.props;\r\n        const { editar } = this.state;\r\n\r\n        return (\r\n            <>\r\n                {listadoPelicula && listadoPelicula.length > 0 ? (\r\n                    listadoPelicula.map(peli => (\r\n                        <article key={peli.id} className=\"peli-item\">\r\n                            <h3 className=\"title\">{peli.titulo}</h3>\r\n                            <p className=\"description\">{peli.descripcion}</p>\r\n                            <button className=\"edit\" onClick={() => this.editarPelicula(peli.id)}>Editar</button>\r\n                            <button className=\"delete\" onClick={() => this.borrarPelicula(peli.id)}>Borrar</button>\r\n                            {editar === peli.id && (\r\n                                <Editar\r\n                                    peli={peli}\r\n                                    conseguirPeliculas={this.conseguirPeliculas}\r\n                                    setEditar={() => this.setState({ editar: 0 })}\r\n                                />\r\n                            )}\r\n                        </article>\r\n                    ))\r\n                ) : (\r\n                    <h2>No hay películas dentro del almacenamiento</h2>\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}